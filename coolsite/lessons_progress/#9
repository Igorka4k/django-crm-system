11:50 - продолжить просмотр

Подробно о всех связях с таблицами: https://djbook.ru/rel3.0/topics/db/models.html#relationships

Связь таблиц, объяснение методов:
    ForeignKey, ManyToManyField, OneToOneField (В основном работа с ForeignKey)

---Обработка удаления/изменения записи из таблиц---

Women().update(title="Жирдяй", id=5, ...) - Изменение полей таблицы класса Women.

вторичная модель - модель, которая содержит id первичной модели
первичная модель - модель, с которой производится основная работа, а также из которой удаляется инфа.

ForeignKey(<ссылка на первичную модель>, on_delete=<ограничения при удалении>)

    --ОГРАНИЧЕНИЯ ПРИ УДАЛЕНИИ--
    models.CASCADE - удаление всех записей из первичной модели и всех связанных во вторичной
    models.PROTECT - запрещает удаление из первичной модели, если исп. во вторичной


1) Создаём модель Category
2) Создаём ключ связи Many to one (ForeignKey)
3) py manage.py makemigrations и понимаем процесс перестройки структуры бд (если exception то "2")
3.1) py manage.py migrate

к 4) py manage.py shell
4) Установить поле cat_id для каждого элемента таблицы Women (на 1).
 {w_list = Women.objects.all(), w_list.update()}

5) Чтобы проверить связь таблиц - py manage.py shell, создаём модель класса Women и передаём ей cat_id
именным параметром. Важно понимать, что при Women().cat - мы ссылаемся на модель класса Category,
id которой соответствует cat_id.

ПРИМЕЧАНИЕ: В таблице women_women, столбец cat_id создаётся тогда, когда мы прописываем ForeignKey
cat в классе модели в models.py, необходимо написать null=True в аргументах ForeignKey при его создании.

6) Добавляем новую логику в шаблоны base.html и index.html.